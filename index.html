<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>东圣网络</title>
    <meta name="keywords" content="东圣网络">
    <meta name="description" content="东圣网络">
    <meta name="Copyright" content="东圣网络">
    <meta name="author" content="东圣网络">
    <!-- 网站的ico图标 -->
    <link rel="shortcut icon"
          href="http://39.106.49.165/h5ward/t/static/dongsheng-qrcode.jpg"
          type="image/x-icon">
    <link rel="stylesheet" href="static/reset.css">
    <link rel="stylesheet" href="static/main.css">
    <script src="static/jquery1.8.3.min.js"></script>
    <script src="static/TweenMax.min.js"></script>
    <script src="static/EasePack.js"></script>
    <script type="text/javascript">
        !(function (doc, win) {
            var docEle = doc.documentElement,
                    evt = "onorientationchange" in window ? "orientationchange" : "resize",
                    fn = function () {
                        var width = docEle.clientWidth > 800 ? 800 : docEle.clientWidth;
                        width && (docEle.style.fontSize = 20 * (width / 400) + "px");
                    };

            win.addEventListener(evt, fn, false);
            doc.addEventListener("DOMContentLoaded", fn, false);

        }(document, window));
    </script>
    <meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">
    <style></style>
</head>

<body>
<!-- loading -->
<div id="loading" style="display: none;"></div>
<!-- 图片展示部分 -->
<div id="banner">
    <ul>
        <li class="banner-li-left">福利来了</li>
        <li class="banner-li-right"><a href="http://distribution.yinghecloud.com/download/59c293d68a07db0a425ea03d">东圣网络游戏乐不停，房卡天天送</a>
        </li>
    </ul>
</div>
<article class="page ws20160229 td_choujiang">
    <header class="pack">
        <input style="width:100%;" id="phone" placeholder="输入手机号即可领取大奖！" type="text">
    </header>
    <div class="td_holder holder">
        <img class="td_xiongmao" src="static/td_icon02.png">
        <img class="td_zhuanpan" src="static/td_icon06.png">
        <div id="draw" class="start">
            <img class="star" style="transform: rotate(12deg);" src="static/xs_icon02.png">
            <img class="zi" src="static/xs_icon06.png">
        </div>
        <div>
            <div>

            </div>
            <div>
                <img class="logo" src="static/dongsheng-qrcode.jpg">
            </div>
        </div>
    </div>

</article>
<!-- 图片展示部分END -->
<article id="tip">
    <div class="pack">
        <h1>温馨提示</h1>
        <p id="toast"></p>
        <a href="#">确定</a>
    </div>
</article>
<script>
    var checkPhone = function (a) {
        var patrn = /^((?:13|15|18|14|17)\d{9}|0(?:10|2\d|[3-9]\d{2})[1-9]\d{6,7})$/;
        if (!patrn.exec(a)) return false;
        return true;
    };
    $(function () {
        $(window).on("load", function () {
            $("#loading").fadeOut()
        })
        // ========================================浮层控制
        $("#tip .pack a").on("click", function () {
            $("#tip").fadeOut()
            $("#tip .pack p").html("")
            return false;
        })
        function alerths(str) {
            $("#tip").fadeIn()
            $("#toast").html(str)
            return false;
        }

        // ========================================点击提交
        var arr = [12, 52, 98, 144, 197, 244, 285, 328]

        $("#draw").on("click", function () {
            var str = $("#phone").val()
            if (str.length == 0) {
                alerths("输入手机号才能领奖哦")
            } else if (str.length == 11 && checkPhone(str)) {
                // 判断是不是11位手机号，为真提交
                var num = Math.floor(Math.random() * 8)
                var deg = 21600 + arr[num]
                TweenMax.set($(".ws20160229 .holder .start .star"), {rotation: 0})
                TweenMax.to($(".ws20160229 .holder .start .star"), 3, {
                    rotation: deg,
                    ease: Quint.easeOut,
                    onComplete: stophs
                })
                TweenMax.set($(".ws20160229 .holder .start .zi"), {rotation: 0})
                TweenMax.to($(".ws20160229 .holder .start .zi"), 3, {rotation: deg, ease: Quint.easeOut})
                function stophs() {
                    TweenMax.set($(".ws20160229 .holder .start .zi"), {rotation: 0, delay: 0.3})
                    if (num == 0) {
                        alerths("恭喜您获得 金币8888")
                    } else if (num == 1) {
                        alerths("恭喜您获得 30张放卡")
                    } else if (num == 2) {
                        alerths("恭喜您获得 58张放卡")
                    } else if (num == 3) {
                        alerths("恭喜您获得 金币2888")
                    } else if (num == 4) {
                        alerths("恭喜您获得 88张房卡")
                    } else if (num == 5) {
                        alerths("恭喜您获得 168张房卡")
                    } else if (num == 6) {
                        alerths("恭喜您获得 58张房卡")
                    } else if (num == 7) {
                        alerths("恭喜您获得 68张房卡")
                    }
                }
            } else {
                alerths("请正确输入手机号！")
            }
            return false;
        })
    })
</script>


</body>
</html>
